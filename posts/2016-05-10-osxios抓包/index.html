<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title> osx,ios抓包 - </title>
  <meta name="description" content="" />
  <meta property="og:title" content="osx,ios抓包" />
  <meta name="twitter:title" content="osx,ios抓包" />
  <meta name="description" content="OS X Programs OS X supports a wide range of packet trace programs, as described in the following sections.Charles HTTP Proxy Charlesis an HTTP proxy that allows you to view all of the HTTP and HTTPS traffic between your machine and the Internet.CPA Cocoa Packet Analyzeris a native OS X implementation of a network protocol analyzer and packet sniffer.Debookee Debookeeis a OS X application which allows you to see what">
  <meta property="og:description" content="OS X Programs OS X supports a wide range of packet trace programs, as described in the following sections.Charles HTTP Proxy Charlesis an HTTP proxy that allows you to view all of the HTTP and HTTPS traffic between your machine and the Internet.CPA Cocoa Packet Analyzeris a native OS X implementation of a network protocol analyzer and packet sniffer.Debookee Debookeeis a OS X application which allows you to see what">
  <meta name="twitter:description" content="OS X Programs OS X supports a wide range of packet trace programs, as described in the following sections.Charles HTTP Proxy Charlesis an HTTP proxy that allows you to view all of the HTTP and HTTPS …">
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://www.51hint.com/posts/2016-05-10-osxios%E6%8A%93%E5%8C%85/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="IT技术分享" />

  <meta name="generator" content="Hugo 0.81.0" />
  <link rel="canonical" href="https://www.51hint.com/posts/2016-05-10-osxios%E6%8A%93%E5%8C%85/" />
  <link rel="alternate" href="https://www.51hint.com/index.xml" type="application/rss+xml" title="IT技术分享">
  
  
  <script src="https://www.51hint.com/js/jquery-1.12.4.min.js"></script>
  <link rel="stylesheet" href="https://www.51hint.com/css/katex.min.css" />
  <link rel="stylesheet" href="https://www.51hint.com/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://www.51hint.com/css/bootstrap.min.css" />
  
  
  
  <link rel="stylesheet" href="https://www.51hint.com/css/main.css" />
  
  
  
  



<link rel="stylesheet" href="https://www.51hint.com/css/photoswipe.css" />
<link rel="stylesheet" href="https://www.51hint.com/css/default-skin/default-skin.css" />





<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>




<link rel="stylesheet" href="https://www.51hint.com/css/styles/atom-one-dark.css" />
<script src="https://www.51hint.com/js/highlight.pack.js"></script>

<script>hljs.initHighlightingOnLoad();</script>
</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.51hint.com/">IT技术分享</a>
    </div>
    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
        
          <li>
            <a id="mSearch" href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg">Search</span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
          
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
      </div>
    </div>

  </div>
</nav>







    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-md-offset-0">
            <div class="post-heading">
                <h1 align="center">osx,ios抓包</h1>
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>




<div id="fastSearch">
  <input id="searchInput" tabindex="0">
  <ul id="searchResults">
  </ul>
</div>

<script src="/js/fuse.min.js"></script>
<script src="/js/fastsearch.js"></script>
<link rel="stylesheet" href="https://www.51hint.com/css/fast.css" />
    
<div class="container" role="main" itemscope itemtype="http://schema.org/Article">
    <div class="row">
        <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1">
            
            
            
<div>
    <section id="datecount">
        <h4 id="date"> Tue May 10, 2016</h4>
    </section>
    <h5 id="wc">800 Words|Read in about 2 Min</h5>
    <h5 id="tags">Tags: 
        
        <a href="https://www.51hint.com/tags/wireshark/">wireshark</a> &nbsp;
        
        <a href="https://www.51hint.com/tags/%E6%8A%93%E5%8C%85/">抓包</a> &nbsp;
        
        <a href="https://www.51hint.com/tags/%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7/">抓包工具</a> &nbsp;
    </h5>
</div>

            
            <article role="main" class="blog-post" itemprop="articleBody" id="content">
                
  
  <aside class="toc">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#os-x-programs">OS X Programs</a>
      <ul>
        <li><a href="#charles-http-proxy">Charles HTTP Proxy</a></li>
        <li><a href="#cpa">CPA</a></li>
        <li><a href="#debookee">Debookee</a></li>
        <li><a href="#frameseer">FrameSeer</a></li>
        <li><a href="#http-scoop">HTTP Scoop</a></li>
        <li><a href="#ipnetmonitorx">IPNetMonitorX</a></li>
        <li><a href="#tcpdump">tcpdump</a></li>
        <li><a href="#tcpflow">tcpflow</a></li>
        <li><a href="#tcptrace">tcptrace</a></li>
        <li><a href="#wireshark">Wireshark</a></li>
        <li><a href="#wireless-diagnostics">Wireless Diagnostics</a></li>
      </ul>
    </li>
    <li><a href="#ios-packet-tracing">iOS Packet Tracing</a>
      <ul>
        <li><a href="#remote-virtual-interface">Remote Virtual Interface</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </aside>
  


                <!-- raw HTML omitted -->
<h2 class="jump" id="os-x-programs">OS X Programs</h2>
<p>OS X supports a wide range of packet trace programs, as described in the following sections.<!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="charles-http-proxy">Charles HTTP Proxy</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Charles<!-- raw HTML omitted --><!-- raw HTML omitted --> is an HTTP proxy that allows you to view all of the HTTP and HTTPS traffic between your machine and the Internet.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="cpa">CPA</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Cocoa Packet Analyzer<!-- raw HTML omitted --><!-- raw HTML omitted --> is a native OS X implementation of a network protocol analyzer and packet sniffer.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="debookee">Debookee</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Debookee<!-- raw HTML omitted --><!-- raw HTML omitted --> is a OS X application which allows you to see what your devices are sending over the network.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="frameseer">FrameSeer</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->FrameSeer<!-- raw HTML omitted --><!-- raw HTML omitted --> is an inexpensive network packet capture application for OS X.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="http-scoop">HTTP Scoop</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->HTTP Scoop<!-- raw HTML omitted --><!-- raw HTML omitted --> is an HTTP protocol analyzer for OS X. It reconstructs complete HTTP conversations (rather than just showing the packets that make them up) and presents them in a user-friendly manner.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="ipnetmonitorx">IPNetMonitorX</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->IPNetMonitorX<!-- raw HTML omitted --><!-- raw HTML omitted --> is a network troubleshooting toolkit for debugging Internet service problems and optimizing performance.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="tcpdump">tcpdump</h3>
<p>This command line tool is built in to all versions of OS X, and is also available on many other Unix platforms. For a quick summary of how to use <code>tcpdump</code>, see <!-- raw HTML omitted --><!-- raw HTML omitted -->Getting Started With tcpdump<!-- raw HTML omitted --><!-- raw HTML omitted -->.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="tcpflow">tcpflow</h3>
<p>If you’re debugging a high-level protocol, it’s nice to see the various TCP connections as streams of data rather than individual packets. The <code>tcpflow</code> tool can do that for you. If you’ve not used <code>tcpflow</code> before, there’s a quick introduction in <!-- raw HTML omitted --><!-- raw HTML omitted -->Getting Started With tcpflow<!-- raw HTML omitted --><!-- raw HTML omitted -->.</p>
<p>The <code>tcpflow</code> tool is not built-in to OS X, but you can get it in a variety of ways.</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="tcptrace">tcptrace</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->tcptrace<!-- raw HTML omitted --><!-- raw HTML omitted --> is an open source tool for analyzing the TCP connections in a packet trace.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="wireshark">Wireshark</h3>
<p><!-- raw HTML omitted --><!-- raw HTML omitted -->Wireshark<!-- raw HTML omitted --><!-- raw HTML omitted --> is an open source packet analyzer that has been ported to OS X. It requires X11.<!-- raw HTML omitted --> <!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="wireless-diagnostics">Wireless Diagnostics</h3>
<p>Wireless Diagnostics is an application built in to OS X that lets you capture a Wi-Fi level packet trace. Such traces contain more information than a standard packet trace (for example, they show Wi-Fi’s link-layer retransmissions).</p>
<p>You can find Wireless Diagnostics in the <code>/System/Library/CoreServices</code> directory; on later systems it might be in the <code>Applications</code> subdirectory within that directory. On OS X 10.7 the application was called Wi-Fi Diagnostics.</p>
<p>See <!-- raw HTML omitted --><!-- raw HTML omitted -->Wi-Fi Capture<!-- raw HTML omitted --><!-- raw HTML omitted --> for more information about using this tool.<!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h2 class="jump" id="ios-packet-tracing">iOS Packet Tracing</h2>
<p>iOS does not support packet tracing directly. However, if you’re developing for iOS you can take a packet trace of your app in a number of different ways:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 class="jump" id="remote-virtual-interface">Remote Virtual Interface</h3>
<p>iOS 5 added a remote virtual interface (RVI) facility that lets you use OS X packet trace programs to capture traces from an iOS device. The basic strategy is:</p>
<!-- raw HTML omitted -->
<p>To set up an RVI, you should run the <code>rvictl</code> tool as shown below.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<pre><code>&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;$ ifconfig -l&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;lo0 gif0 stf0 en0 en1 p2p0 fw0 ppp0 utun0&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;$ # Then run the tool with the UDID of the device.&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;$ rvictl -s 74bd53c647548234ddcef0ee3abee616005051ed&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;Starting device 74bd53c647548234ddcef0ee3abee616005051ed [SUCCEEDED]&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;$ # Get the list of interfaces again, and you can see the new virtual&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;$ # network interface, rvi0, added by the previous command.&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;$ ifconfig -l&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;lo0 gif0 stf0 en0 en1 p2p0 fw0 ppp0 utun0 rvi0&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<p>Now that you know the name of the RVI, you can point your packet trace tool at it. For example, here’s how you might run <code>tcpdump</code> to take a packet trace from the RVI and write it to the file <code>trace.pcap</code>.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<pre><code>&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;tcpdump: WARNING: rvi0: That device doesn't support promiscuous mode&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;(BIOCPROMISC: Operation not supported on socket)&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;tcpdump: WARNING: rvi0: no IPv4 address assigned&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;tcpdump: verbose output suppressed, use -v or -vv for full protocol decode&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre&gt;listening on rvi0, link-type RAW (Raw IP), capture size 65535 bytes&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->
<p>When you’re done you can remove the RVI with the following command.</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<pre><code>&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
  &lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
  &lt;td scope=&quot;row&quot;&gt;
    &lt;pre class=&quot;&quot;&gt;Stopping device 74bd53c647548234ddcef0ee3abee616005051ed [SUCCEEDED]&lt;/pre&gt;
  &lt;/td&gt;
&lt;/tr&gt;
</code></pre>
<!-- raw HTML omitted -->

            </article>

            <ul class="pager blog-pager">
                
                <li class="previous">
                    <a href="https://www.51hint.com/posts/2016-04-26-xcodebuild-%E5%AF%BC%E5%87%BAipa/" data-toggle="tooltip" data-placement="top" title="xcodebuild 导出ipa">&larr; Previous Post</a>
                </li>
                 
                <li class="next">
                    <a href="https://www.51hint.com/posts/2016-05-13-mac-install-imagemagic/" data-toggle="tooltip" data-placement="top" title="mac install imagemagic">Next Post &rarr;</a>
                </li>
                
            </ul>
            
            <div>
                 
                <h2>See Also</h2>
                <ul>
                    
                    <li><a href="/posts/2014-01-16-wireshark%E6%8A%93%E5%8C%85/">Wireshark抓包</a></li>
                    
                    <li><a href="/posts/2014-01-14-burp-suite/">Burp Suite抓包</a></li>
                    
                    <li><a href="/posts/2013-12-25-ios%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7-%E7%BD%91%E7%BB%9C%E5%B0%81%E5%8C%85%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7charles/">iOS开发工具——网络封包分析工具Charles,抓包</a></li>
                    
                    <li><a href="/posts/2016-03-08-wireshark%E8%BF%87%E6%BB%A4/">wireshark过滤</a></li>
                    
                    <li><a href="/posts/2014-01-24-ios-app%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90%E4%B9%8Brvictl%E5%8F%AF%E4%BB%A5%E6%8D%95%E6%8D%89%E9%99%A4%E4%BA%86wifi%E4%BB%A5%E5%A4%96%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B/">iOS APP网络分析之rvictl（可以捕捉除了Wifi以外的网络类型）</a></li>
                    
                </ul>
                
            </div>
            
            
            
            
<div>
    <section id="datecount">
        <h4 id="date"> Tue May 10, 2016</h4>
    </section>
    <h5 id="wc">800 Words|Read in about 2 Min</h5>
    <h5 id="tags">Tags: 
        
        <a href="https://www.51hint.com/tags/wireshark/">wireshark</a> &nbsp;
        
        <a href="https://www.51hint.com/tags/%E6%8A%93%E5%8C%85/">抓包</a> &nbsp;
        
        <a href="https://www.51hint.com/tags/%E6%8A%93%E5%8C%85%E5%B7%A5%E5%85%B7/">抓包工具</a> &nbsp;
    </h5>
</div>

            
            </div>
            
            
        </div>
    </div>
    </section>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
        
          
          
        </ul>
        <p class="credits copyright text-muted">
        &copy;2017-2018
          
          
          
            &nbsp;&bull;&nbsp;
            <a href="https://www.51hint.com/">IT技术分享</a>
          
        </p>
        <p class="credits theme-by text-muted">
          
        </p>

        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.81.0</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/rootsongjc/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>




<script src="https://www.51hint.com/js/bootstrap.min.js"></script>
<script src="https://www.51hint.com/js/photoswipe-ui-default.min.js"></script>
<script src="https://www.51hint.com/js/photoswipe.min.js"></script>
<script src="https://www.51hint.com/js/auto-render.min.js"></script>
<script src="https://www.51hint.com/js/main.js"></script>
<script src="https://www.51hint.com/js/prism.js"></script>
<script src="https://www.51hint.com/js/katex.min.js"></script>

<script> renderMathInElement(document.body); </script>







  </body>
</html>

