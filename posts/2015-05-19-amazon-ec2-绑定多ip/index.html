<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title> amazon ec2 绑定多ip - </title>
  <meta name="description" content="" />
  <meta property="og:title" content="amazon ec2 绑定多ip" />
  <meta name="twitter:title" content="amazon ec2 绑定多ip" />
  <meta name="description" content="&lt;p class=&quot;p4&quot;&gt; &lt;p class=&quot;p2&quot;&gt; &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 3:&lt;/b&gt; Now navigate to &amp;#8220;Network Interfaces&amp;#8221; from the menu on left. Right-click on the network interface of your new instance, and select &amp;#8220;Manage Private IP Addresses&amp;#8221;.&lt;/span&gt; &lt;/p&gt; &lt;p class=&quot;p4&quot;&gt; &lt;p class=&quot;p2&quot;&gt; &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 4:&lt;/b&gt; Click on the &amp;#8220;Assign new IP&amp;#8221; link in the &amp;#8220;Manage Private IP Addresses&amp;#8221; window. A new line should appear which says &amp;#8220;Auto-assign&amp;#8221;. Now click on &amp;#8220;Yes, Update&amp;#8221;. Take a note">
  <meta property="og:description" content="&lt;p class=&quot;p4&quot;&gt; &lt;p class=&quot;p2&quot;&gt; &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 3:&lt;/b&gt; Now navigate to &amp;#8220;Network Interfaces&amp;#8221; from the menu on left. Right-click on the network interface of your new instance, and select &amp;#8220;Manage Private IP Addresses&amp;#8221;.&lt;/span&gt; &lt;/p&gt; &lt;p class=&quot;p4&quot;&gt; &lt;p class=&quot;p2&quot;&gt; &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 4:&lt;/b&gt; Click on the &amp;#8220;Assign new IP&amp;#8221; link in the &amp;#8220;Manage Private IP Addresses&amp;#8221; window. A new line should appear which says &amp;#8220;Auto-assign&amp;#8221;. Now click on &amp;#8220;Yes, Update&amp;#8221;. Take a note">
  <meta name="twitter:description" content="&lt;p class=&quot;p4&quot;&gt; &lt;p class=&quot;p2&quot;&gt; &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 3:&lt;/b&gt; Now navigate to &amp;#8220;Network Interfaces&amp;#8221; from the menu on …">
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://www.51hint.com/posts/2015-05-19-amazon-ec2-%E7%BB%91%E5%AE%9A%E5%A4%9Aip/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="IT技术分享" />

  <meta name="generator" content="Hugo 0.81.0" />
  <link rel="canonical" href="https://www.51hint.com/posts/2015-05-19-amazon-ec2-%E7%BB%91%E5%AE%9A%E5%A4%9Aip/" />
  <link rel="alternate" href="https://www.51hint.com/index.xml" type="application/rss+xml" title="IT技术分享">
  
  
  <script src="https://www.51hint.com/js/jquery-1.12.4.min.js"></script>
  <link rel="stylesheet" href="https://www.51hint.com/css/katex.min.css" />
  <link rel="stylesheet" href="https://www.51hint.com/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://www.51hint.com/css/bootstrap.min.css" />
  
  
  
  <link rel="stylesheet" href="https://www.51hint.com/css/main.css" />
  
  
  
  



<link rel="stylesheet" href="https://www.51hint.com/css/photoswipe.css" />
<link rel="stylesheet" href="https://www.51hint.com/css/default-skin/default-skin.css" />





<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>




<link rel="stylesheet" href="https://www.51hint.com/css/styles/atom-one-dark.css" />
<script src="https://www.51hint.com/js/highlight.pack.js"></script>

<script>hljs.initHighlightingOnLoad();</script>
</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://www.51hint.com/">IT技术分享</a>
    </div>
    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        

        
        
          <li>
            <a id="mSearch" href="#modalSearch" data-toggle="modal" data-target="#modalSearch" style="outline: none;">
              <span class="hidden-sm hidden-md hidden-lg">Search</span> <span id="searchGlyph" class="glyphicon glyphicon-search"></span>
            </a>
          </li>
          
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
      </div>
    </div>

  </div>
</nav>







    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-md-offset-0">
            <div class="post-heading">
                <h1 align="center">amazon ec2 绑定多ip</h1>
                
                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>




<div id="fastSearch">
  <input id="searchInput" tabindex="0">
  <ul id="searchResults">
  </ul>
</div>

<script src="/js/fuse.min.js"></script>
<script src="/js/fastsearch.js"></script>
<link rel="stylesheet" href="https://www.51hint.com/css/fast.css" />
    
<div class="container" role="main" itemscope itemtype="http://schema.org/Article">
    <div class="row">
        <div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1">
            
            
            
<div>
    <section id="datecount">
        <h4 id="date"> Tue May 19, 2015</h4>
    </section>
    <h5 id="wc">500 Words|Read in about 1 Min</h5>
    <h5 id="tags">Tags: 
        
        <a href="https://www.51hint.com/tags/ec2/">ec2</a> &nbsp;
    </h5>
</div>

            
            <article role="main" class="blog-post" itemprop="articleBody" id="content">
                
  
  <aside class="toc">
    <nav id="TableOfContents"></nav>
  </aside>
  


                <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<pre><code>&lt;p class=&quot;p4&quot;&gt;
  &lt;p class=&quot;p2&quot;&gt;
    &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 3:&lt;/b&gt; Now navigate to &amp;#8220;Network Interfaces&amp;#8221; from the menu on left. Right-click on the network interface of your new instance, and select &amp;#8220;Manage Private IP Addresses&amp;#8221;.&lt;/span&gt;
  &lt;/p&gt;
  
  &lt;p class=&quot;p4&quot;&gt;
    &lt;p class=&quot;p2&quot;&gt;
      &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 4:&lt;/b&gt; Click on the &amp;#8220;Assign new IP&amp;#8221; link in the &amp;#8220;Manage Private IP Addresses&amp;#8221; window. A new line should appear which says &amp;#8220;Auto-assign&amp;#8221;. Now click on &amp;#8220;Yes, Update&amp;#8221;. Take a note of the assigned secondary private IP on the new line. Let&amp;#8217;s assume it is 192.168.xxx.xxx.&lt;/span&gt;
    &lt;/p&gt;
    
    &lt;p class=&quot;p4&quot;&gt;
      &lt;p class=&quot;p2&quot;&gt;
        &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 5:&lt;/b&gt; Allocate a new Elastic IP in order to attach to the private IP you just created. Navigate to &amp;#8220;Elastic IPs&amp;#8221; from the menu on left. Click on &amp;#8220;Allocate New Address&amp;#8221;. In the popup that opens, be sure to select &amp;#8220;VPC&amp;#8221;. Then confirm with &amp;#8220;Yes, Allocate&amp;#8221;. Take a note of the allocated Elastic IP.&lt;/span&gt;
      &lt;/p&gt;
      
      &lt;p class=&quot;p4&quot;&gt;
        &lt;p class=&quot;p4&quot;&gt;
          &lt;p class=&quot;p2&quot;&gt;
            &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 6:&lt;/b&gt; Navigate to &amp;#8220;Network Interfaces&amp;#8221; from the menu on left. Right-click on the network interface of your new instance, and select &amp;#8220;Associate Address&amp;#8221;.&lt;/span&gt;
          &lt;/p&gt;
          
          &lt;p class=&quot;p4&quot;&gt;
            &lt;p class=&quot;p2&quot;&gt;
              &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 7:&lt;/b&gt; In the &amp;#8220;Associate Elastic IP Address&amp;#8221; popup that opens, double check that the Elastic IP and secondary private IP displayed are the same as what you noted in Step 5 and Step 4, respectively. Confirm by clicking &amp;#8220;Associate Address&amp;#8221;.&lt;/span&gt;
            &lt;/p&gt;
            
            &lt;p class=&quot;p4&quot;&gt;
              &lt;p class=&quot;p2&quot;&gt;
                &lt;span class=&quot;s1&quot;&gt;&lt;b&gt;Step 8:&lt;/b&gt; Now SSH into your new instance using the assigned public IP you noted in Step 2. Run command:&lt;/span&gt;
              &lt;/p&gt;
              
              &lt;p class=&quot;p5&quot;&gt;
                &lt;span class=&quot;s3&quot;&gt;sudo ip addr add dev eth0 192.168.xxx.xxx/24&lt;/span&gt;
              &lt;/p&gt;
              
              &lt;p class=&quot;p2&quot;&gt;
                &lt;span class=&quot;s1&quot;&gt;In the command above, replace 192.168.xxx.xxx with the private IP you noted in Step 4, and replace &amp;#8220;/24&amp;#8221; with your VPC subnet size you noted in Step 1. You may want to add this command to your &lt;/span&gt;&lt;span class=&quot;s4&quot;&gt;/etc/rc.local&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; so that the second IP is automatically enabled following a reboot.&lt;/span&gt;
              &lt;/p&gt;
              
              &lt;p class=&quot;p2&quot;&gt;
                &lt;span class=&quot;s1&quot;&gt;Now you can ping the second IP from your local machine to test it, and optionally run &lt;/span&gt;&lt;span class=&quot;s4&quot;&gt;sudo tcpdump -n icmp&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt; on your new instance to observe the ping packets.&lt;/span&gt;
              &lt;/p&gt;
              
              &lt;p class=&quot;p2&quot;&gt;
                &lt;span class=&quot;s1&quot;&gt;Congratulations! You have completed all the steps to set up a second public IP address for your EC2 instance.&lt;/span&gt;
              &lt;/p&gt;
              
              &lt;p class=&quot;p6&quot;&gt;
                &lt;span class=&quot;s3&quot;&gt;&lt;b&gt;Note:&lt;/b&gt; The &amp;#8220;auto-assigned&amp;#8221; public IP at instance launch is not reserved to your EC2 account, and will be released when the instance is terminated or stopped. Also, if you stop the instance, before starting it again you need to dis-associate that Elastic IP in order to get a new auto-assigned public IP. You can re-associate it after the instance finishes starting.&lt;/span&gt;
              &lt;/p&gt;
              
              &lt;p&gt;
                参考：&lt;br /&gt; https://blog.ls20.com/get-two-public-ips-on-an-amazon-ec2-instance-for-free/&lt;br /&gt; http://www.fomore.net/os/?p=629
              &lt;/p&gt;</code></pre>

            </article>

            <ul class="pager blog-pager">
                
                <li class="previous">
                    <a href="https://www.51hint.com/posts/2015-05-11-do-2/" data-toggle="tooltip" data-placement="top" title="do">&larr; Previous Post</a>
                </li>
                 
                <li class="next">
                    <a href="https://www.51hint.com/posts/2015-06-01-aws-ec2-generate-public-key-from-pem/" data-toggle="tooltip" data-placement="top" title="aws ec2  generate public key from pem">Next Post &rarr;</a>
                </li>
                
            </ul>
            
            <div>
                 
            </div>
            
            
            
            
<div>
    <section id="datecount">
        <h4 id="date"> Tue May 19, 2015</h4>
    </section>
    <h5 id="wc">500 Words|Read in about 1 Min</h5>
    <h5 id="tags">Tags: 
        
        <a href="https://www.51hint.com/tags/ec2/">ec2</a> &nbsp;
    </h5>
</div>

            
            </div>
            
            
        </div>
    </div>
    </section>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
        
          
          
        </ul>
        <p class="credits copyright text-muted">
        &copy;2017-2018
          
          
          
            &nbsp;&bull;&nbsp;
            <a href="https://www.51hint.com/">IT技术分享</a>
          
        </p>
        <p class="credits theme-by text-muted">
          
        </p>

        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.81.0</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/rootsongjc/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>




<script src="https://www.51hint.com/js/bootstrap.min.js"></script>
<script src="https://www.51hint.com/js/photoswipe-ui-default.min.js"></script>
<script src="https://www.51hint.com/js/photoswipe.min.js"></script>
<script src="https://www.51hint.com/js/auto-render.min.js"></script>
<script src="https://www.51hint.com/js/main.js"></script>
<script src="https://www.51hint.com/js/prism.js"></script>
<script src="https://www.51hint.com/js/katex.min.js"></script>

<script> renderMathInElement(document.body); </script>







  </body>
</html>

